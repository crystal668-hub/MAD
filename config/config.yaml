# =============
# 系统配置文件
# =============

# ===== LLM配置 =====
llm:
  # Agent 1: OpenRouter GPT-5.2 Thinking + text-embedding-3-large
  agent1:
    provider: "openai"
    model: "openai/gpt-5.2"
    api_key: "${OPENAI_API_KEY}"  # 从环境变量读取
    base_url: "https://openrouter.ai/api/v1"
    temperature: 0.5
    max_tokens: 2000
    embedding_model: "openai/text-embedding-3-large"
    emb_url: "https://openrouter.ai/api/v1/embeddings"
    embedding_provider: "openrouter"
  
  # Agent 2: Grok 4.1 Thinking + voyage-3-large（Grok走OpenRouter，voyage走Voyage SDK）
  agent2:
    provider: "xai"
    model: "x-ai/grok-4.1"
    api_key: "${XAI_API_KEY}"  
    base_url: "https://openrouter.ai/api/v1"
    temperature: 0.5
    max_tokens: 2000
    embedding_model: "voyage-3-large"    
    voyage_api_key: "${VOYAGE_API_KEY}"
    embedding_provider: "voyage" 
  
  # Agent 3: Gemini 3.0 Pro Preview + gemini-embedding-001
  agent3:
    provider: "google"
    model: "google/gemini-3.0-pro-preview"
    api_key: "${GOOGLE_API_KEY}"  
    base_url: "https://openrouter.ai/api/v1"
    temperature: 0.5
    max_tokens: 2000
    embedding_model: "google/gemini-embedding-001"
    emb_url: "https://openrouter.ai/api/v1/embeddings"
    embedding_provider: "openrouter"
  
  # Agent 4: Qwen3-Max + text-embedding-v4 
  agent4:
    provider: "qwen"
    model: "qwen3-max"
    api_key: "${QWEN_API_KEY}"  
    base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
    temperature: 0.5
    max_tokens: 2000
    embedding_model: "text-embedding-v4" 
    emb_url: "https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings"
    embedding_provider: "bailian" 

# ===== 向量数据库配置 =====
vector_store:
  type: "chroma"
  persist_directory: "./data/chroma_db"
  collection_name: "chemical_reactions_recommendation"
  distance_metric: "cosine"  # cosine, l2, ip
  
# ===== RAG系统配置 =====
rag:
  chunk_size: 256  
  chunk_overlap: 50  
  top_k: 5  # 检索返回的top-k结果
  similarity_threshold: 0.7  # 相似度阈值
  
# ===== AutoGen辩论配置 =====
debate:
  max_rounds: 10  # 最大辩论轮数
  consensus_threshold: 3  # 连续相同答案次数视为达成共识
  timeout: 300  # 单轮辩论超时时间(秒)
  speaker_selection_method: "round_robin"  # round_robin, auto, manual
  
# ===== 经验库配置 =====
experience:
  storage_path: "./data/experience_db.json"
  max_experiences: 1000  # 最大存储经验数量
  relevance_threshold: 0.8  # 经验相关性阈值
  enable_experience_reuse: true  # 是否启用经验重用
  
# ===== 化学反应配置 =====
chemistry:
  num_components: 5  # 组分数量
  num_reaction_types: 9  # 反应类型数量
  reaction_types:
    - "CO2RR"  # CO2 Reduction Reaction
    - "EOR"    # Ethanol Oxidation Reaction
    - "HER"    # Hydrogen Evolution Reaction
    - "HOR"    # Hydrogen Oxidation Reaction
    - "HZOR"   # Hydrazine Oxidation Reaction
    - "O5H"    # Oxidation of 5-hydroxymethylfurfural
    - "OER"    # Oxygen Evolution Reaction
    - "ORR"    # Oxygen Reduction Reaction
    - "UOR"    # Urea Oxidation Reaction
    
# ===== 日志配置 =====
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_file: "./logs/system.log"
  log_format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  max_file_size: 10485760  # 10MB
  backup_count: 5
  
# ===== 数据路径配置 =====
paths:
  raw_data: "./data/raw"
  models: "./models"
  outputs: "./outputs"
